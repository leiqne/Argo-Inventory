<!doctype html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventario de Envases</title>
</head>
<body>
    <h1>Inventario de Envases</h1>

    <form action="/agregar_envase" method="post">
        <label for="id">Guía de envases (ID):</label>
        <input type="text" id="id" name="id" placeholder="Dejar vacío para ID automático">
        
        <label for="cliente">Nombre del cliente:</label>
        <input type="text" id="cliente" name="cliente" required>
    
        <label for="guia_remision">Guías de Remisión (separar por comas):</label>
        <input type="text" id="guia_remision" name="guia_remision" required>        
    
        <label for="tipo_envase">Tipos de envases (separar por comas):</label>
        <input type="text" id="tipo_envase" name="tipo_envase" required>
    
        <label for="cantidades">Cantidad de cada tipo (separar por comas):</label>
        <input type="text" id="cantidades" name="cantidades" placeholder="Ejemplo: 2,5" required>
    
        <label for="fecha">Fecha:</label>
        <input type="date" id="fecha" name="fecha">
        
        <label for="cancelado">Cancelado:</label>
        <input type="checkbox" id="cancelado" name="cancelado">
        
        <button type="submit">Guardar</button>
    </form>
    
    <h2>Lista de Envases</h2>
    <table>
        <thead>
            <tr>
                <th>Guía de envases (ID)</th>
                <th>Cliente</th>
                <th>Fecha</th>
                <th>Guías de Remisión</th>
                <th>Tipos de Envases</th>
                <th>Cantidades</th>
                <th>Cancelado</th>
            </tr>
        </thead>
        <tbody>
            {% for envase in envases %}
            <tr>
                <td>{{ envase['id'] }}</td>
                <td>{{ envase['cliente'] }}</td>
                <td>{{ envase['fecha'] }}</td>
                <td>{{ envase['guias_remision'] }}</td> 
                <td>{{ envase['tipos_envase'] }}</td> 
                <td>{{ ', '.join(envase['cantidades'] | map('string')) }}</td> 
                <td>{{ 'Sí' if envase['cancelado'] else 'No' }}</td> 
            </tr>
            {% endfor %}
        </tbody>
    </table>
    
</body>
</html>
