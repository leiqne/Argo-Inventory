{%extends "base.html"%}
{% block title %}Inventario de Envases{% endblock %}
{%set colors = ["text-indigo-500 bg-indigo-100/60", "text-blue-500 bg-blue-100/60", "text-pink-500 bg-pink-100/60"]%}
{% block body %}
<main class="bg-gray-700 relative">
    <section class="w-full h-screen grid grid-cols-4 pt-3 relative">
        <div class="col-span-3">
            {%for cliente in clientes%}
            <div class="max-w-2xl mx-auto my-2 px-8 py-4 bg-white rounded-lg shadow-md dark:bg-gray-800 grid grid-cols-6 relative cliente-item"
                data-cliente="{{cliente}}">
                <div class="mt-2 col-span-5">
                    <a href="#"
                        class="text-xl font-bold text-gray-700 dark:text-white hover:text-gray-600 dark:hover:text-gray-200 hover:underline"
                        tabindex="0" role="link">Cliente {{cliente}}</a>
                </div>
                <div class="flex h-full w-full border-l">
                    <h1 class="m-auto text-white font-large">{{0}}</h1>
                </div>
            </div>
            {%endfor%}
        </div>
        <div class="w-full pt-3">
            <button id="btnAddCliente"
                class="flex items-center px-4 py-2 font-medium tracking-wide text-white capitalize transition-colors duration-300 transform bg-slate-800 rounded-lg hover:bg-slate-700 focus:outline-none focus:ring focus:ring-slate-600 focus:ring-opacity-80">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                    stroke="currentColor" class="size-6">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z" />
                </svg>

                <span class="mx-1">Agregar Cliente</span>
            </button>
        </div>
    </section>

    <div id="ModalAddCliente" class="w-1/2 h-auto p-3 flex m-auto hidden absolute">
        <section class="w-auto p-6 mx-auto bg-white rounded-md shadow-md dark:bg-gray-800">
            <form id="formAddCliente">
                <div class="grid grid-cols-1 gap-6 mt-4 sm:grid-cols-3">
                    <div class="col-span-3">
                        <label class="text-gray-700 dark:text-gray-200" for="client-name">Nombre del cliente</label>
                        <input id="client-name" type="text" name="client_name"
                            class="block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-200 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring">
                    </div>

                    <div>
                        <label class="text-gray-700 dark:text-gray-200" for="tipo1">Tipo 1</label>
                        <input type="number" name="tipo1"
                            class="block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-200 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring">
                    </div>

                    <div>
                        <label class="text-gray-700 dark:text-gray-200" for="tipo2">Tipo 2</label>
                        <input type="number" name="tipo2"
                            class="block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-200 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring">
                    </div>

                    <div>
                        <label class="text-gray-700 dark:text-gray-200" for="tipo3">Tipo 3</label>
                        <input type="number" name="tipo3"
                            class="block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-200 rounded-md dark:bg-gray-800 dark:text-gray-300 dark:border-gray-600 focus:border-blue-400 focus:ring-blue-300 focus:ring-opacity-40 dark:focus:border-blue-300 focus:outline-none focus:ring">
                    </div>
                </div>

                <div class="flex justify-end mt-6">
                    <button
                        class="px-8 py-2.5 leading-5 text-white transition-colors duration-300 transform bg-gray-700 rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600">Guardar</button>
                </div>
            </form>
        </section>
    </div>

    <div id="ModalRegistro" class="hidden">
        <h1>Inventario de Envases</h1>
        <form action="/agregar_envase" method="post">
            <label for="id">Guía de envases (ID):</label>
            <input type="text" id="id" name="id" placeholder="Dejar vacío para ID automático">

            <label for="cliente">Nombre del cliente:</label>
            <input type="text" id="cliente" name="cliente" required>

            <label for="guia_remision">Guías de Remisión (separar por comas):</label>
            <input type="text" id="guia_remision" name="guia_remision" required>

            <label for="tipo_envase">Tipos de envases (separar por comas):</label>
            <input type="text" id="tipo_envase" name="tipo_envase" required>

            <label for="cantidades">Cantidad de cada tipo (separar por comas):</label>
            <input type="text" id="cantidades" name="cantidades" placeholder="Ejemplo: 2,5" required>

            <label for="fecha">Fecha:</label>
            <input type="date" id="fecha" name="fecha">

            <label for="cancelado">Cancelado:</label>
            <input type="checkbox" id="cancelado" name="cancelado">

            <button type="submit">Guardar</button>
        </form>
    </div>
</main>
<!-- Menú contextual -->
<div id="context-menu"
    class="hidden absolute bg-white dark:bg-gray-800 shadow-lg rounded-lg border z-50 w-40 overflow-hidden">
    <ul>
        <li class="px-4 py-2 text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600 cursor-pointer"
            data-action="details">Ver detalles
        </li>
        <li class="px-4 py-2 text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600 cursor-pointer" data-action="add">
            Añadir registro
        </li>
        <li class="px-4 py-2 text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600 cursor-pointer"
            data-action="summary">Ver resumen
        </li>
        <li class="px-4 py-2 text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600 cursor-pointer"
            data-action="pendientes">Ver Pendientes
        </li>
    </ul>
</div>
{%endblock%}

{%block script%}
<script src="{{url_for('static', filename='js/index.js')}}"></script>
{%endblock%}